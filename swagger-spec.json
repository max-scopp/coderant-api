{
    "openapi": "3.0.0",
    "info": {
        "title": "drant-community",
        "description": "",
        "version": "0.0.1",
        "contact": {}
    },
    "tags": [
        {
            "name": "admin",
            "description": "Administrative features"
        },
        {
            "name": "mod",
            "description": "Moderation features"
        },
        {
            "name": "ranting",
            "description": "Main ranting features"
        }
    ],
    "servers": [],
    "components": {
        "securitySchemes": {
            "bearer": {
                "scheme": "bearer",
                "bearerFormat": "JWT",
                "type": "http",
                "in": "header"
            }
        },
        "schemas": {
            "CreateRantDTO": {
                "type": "object",
                "properties": {
                    "content": {
                        "type": "string"
                    },
                    "asset": {
                        "type": "string",
                        "format": "binary",
                        "description": "If sent as `multipart/form-data`, provide a binary file,\nhowever, you cannot sent binary files using `application/json`.\n\nIn that case, you can encode the file as base64, in the following format:\n`data:[<mediatype>][;base64],<data>`\n\nPlease be aware of the limitations of using a base64 file upload.\nThe file limit is calculated BEFORE the base64 file is unpacked."
                    },
                    "tags": {
                        "description": "You can provide tags either comma-seperated or as array directly.\nMake sure to provide at least one of the following tags:\n`INSERT`\n\nOtherwise, the creation will fail.",
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                },
                "required": [
                    "content",
                    "tags"
                ]
            },
            "AssetDTO": {
                "type": "object",
                "properties": {
                    "url": {
                        "type": "string"
                    },
                    "thumbnail": {
                        "type": "string"
                    },
                    "mime": {
                        "type": "string"
                    }
                },
                "required": [
                    "url",
                    "thumbnail",
                    "mime"
                ]
            },
            "VoteDTO": {
                "type": "object",
                "properties": {
                    "by": {
                        "type": "string"
                    },
                    "state": {
                        "type": "number"
                    }
                },
                "required": [
                    "by",
                    "state"
                ]
            },
            "CommentDTO": {
                "type": "object",
                "properties": {
                    "votes": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "asset": {
                        "$ref": "#/components/schemas/AssetDTO"
                    },
                    "uuid": {
                        "type": "string"
                    },
                    "owner": {
                        "type": "string"
                    },
                    "content": {
                        "type": "string"
                    },
                    "updatedAt": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "createdAt": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "score": {
                        "type": "number"
                    },
                    "userVoteState": {
                        "type": "number"
                    }
                },
                "required": [
                    "votes",
                    "asset",
                    "uuid",
                    "owner",
                    "content",
                    "updatedAt",
                    "createdAt",
                    "score",
                    "userVoteState"
                ]
            },
            "RantDTO": {
                "type": "object",
                "properties": {
                    "uuid": {
                        "type": "string"
                    },
                    "content": {
                        "type": "string"
                    },
                    "asset": {
                        "$ref": "#/components/schemas/AssetDTO"
                    },
                    "votes": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/VoteDTO"
                        }
                    },
                    "userVoteState": {
                        "type": "number"
                    },
                    "score": {
                        "type": "number"
                    },
                    "comments": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/CommentDTO"
                        }
                    },
                    "owner": {
                        "type": "string"
                    },
                    "updatedAt": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "createdAt": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "tags": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                },
                "required": [
                    "uuid",
                    "content",
                    "asset",
                    "score",
                    "comments",
                    "owner",
                    "updatedAt",
                    "createdAt",
                    "tags"
                ]
            },
            "CreateMessageDTO": {
                "type": "object",
                "properties": {
                    "content": {
                        "type": "string"
                    },
                    "asset": {
                        "type": "string",
                        "format": "binary",
                        "description": "If sent as `multipart/form-data`, provide a binary file,\nhowever, you cannot sent binary files using `application/json`.\n\nIn that case, you can encode the file as base64, in the following format:\n`data:[<mediatype>][;base64],<data>`\n\nPlease be aware of the limitations of using a base64 file upload.\nThe file limit is calculated BEFORE the base64 file is unpacked."
                    }
                },
                "required": [
                    "content"
                ]
            },
            "MakeVoteDTO": {
                "type": "object",
                "properties": {
                    "state": {
                        "type": "number"
                    }
                },
                "required": [
                    "state"
                ]
            },
            "Credentials": {
                "type": "object",
                "properties": {
                    "username": {
                        "type": "string",
                        "example": "local-dev"
                    },
                    "password": {
                        "type": "string",
                        "example": "password"
                    }
                },
                "required": [
                    "username",
                    "password"
                ]
            },
            "UserWithTokenDTO": {
                "type": "object",
                "properties": {
                    "uuid": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "score": {
                        "type": "number"
                    },
                    "social": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "about": {
                        "type": "string"
                    },
                    "skills": {
                        "type": "string"
                    },
                    "location": {
                        "type": "string"
                    },
                    "createdAt": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "supporter": {
                        "type": "boolean"
                    },
                    "moderator": {
                        "type": "boolean"
                    },
                    "token": {
                        "type": "string"
                    }
                },
                "required": [
                    "uuid",
                    "name",
                    "score",
                    "social",
                    "about",
                    "skills",
                    "location",
                    "createdAt",
                    "supporter",
                    "moderator",
                    "token"
                ]
            },
            "UserDTO": {
                "type": "object",
                "properties": {
                    "uuid": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "score": {
                        "type": "number"
                    },
                    "social": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "about": {
                        "type": "string"
                    },
                    "skills": {
                        "type": "string"
                    },
                    "location": {
                        "type": "string"
                    },
                    "createdAt": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "supporter": {
                        "type": "boolean"
                    },
                    "moderator": {
                        "type": "boolean"
                    }
                },
                "required": [
                    "uuid",
                    "name",
                    "score",
                    "social",
                    "about",
                    "skills",
                    "location",
                    "createdAt",
                    "supporter",
                    "moderator"
                ]
            },
            "UserRegistration": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string"
                    },
                    "email": {
                        "type": "string"
                    },
                    "password": {
                        "type": "string"
                    }
                },
                "required": [
                    "name",
                    "email",
                    "password"
                ]
            },
            "CreateNews": {
                "type": "object",
                "properties": {
                    "type": {
                        "type": "string"
                    },
                    "headline": {
                        "type": "string"
                    },
                    "footer": {
                        "type": "string"
                    },
                    "content": {
                        "type": "string"
                    }
                },
                "required": [
                    "type",
                    "headline",
                    "footer",
                    "content"
                ]
            },
            "NewsDTO": {
                "type": "object",
                "properties": {
                    "type": {
                        "type": "string"
                    },
                    "headline": {
                        "type": "string"
                    },
                    "footer": {
                        "type": "string"
                    },
                    "content": {
                        "type": "string"
                    }
                },
                "required": [
                    "type",
                    "headline",
                    "footer",
                    "content"
                ]
            },
            "RantInFeedDTO": {
                "type": "object",
                "properties": {
                    "uuid": {
                        "type": "string"
                    },
                    "content": {
                        "type": "string"
                    },
                    "asset": {
                        "$ref": "#/components/schemas/AssetDTO"
                    },
                    "score": {
                        "type": "number"
                    },
                    "comments": {
                        "type": "number"
                    },
                    "owner": {
                        "type": "string"
                    },
                    "updatedAt": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "createdAt": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "tags": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "userVoteState": {
                        "type": "number"
                    }
                },
                "required": [
                    "uuid",
                    "content",
                    "asset",
                    "score",
                    "comments",
                    "owner",
                    "updatedAt",
                    "createdAt",
                    "tags"
                ]
            },
            "FeedDTO": {
                "type": "object",
                "properties": {
                    "rants": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/RantInFeedDTO"
                        }
                    },
                    "wrw": {
                        "type": "number"
                    },
                    "news": {
                        "$ref": "#/components/schemas/NewsDTO"
                    }
                },
                "required": [
                    "rants",
                    "wrw",
                    "news"
                ]
            },
            "SearchResultDTO": {
                "type": "object",
                "properties": {
                    "rants": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "users": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                },
                "required": [
                    "rants",
                    "users"
                ]
            }
        }
    },
    "paths": {
        "/rant": {
            "put": {
                "operationId": "RantController_createRant",
                "parameters": [],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateRantDTO"
                            }
                        },
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateRantDTO"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RantDTO"
                                }
                            }
                        }
                    }
                },
                "tags": [
                    "ranting"
                ],
                "security": [
                    {
                        "bearer": []
                    }
                ]
            }
        },
        "/rant/{uuid}": {
            "post": {
                "operationId": "RantController_updateRant",
                "parameters": [
                    {
                        "name": "uuid",
                        "required": true,
                        "in": "path",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateRantDTO"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": ""
                    }
                },
                "tags": [
                    "ranting"
                ],
                "security": [
                    {
                        "bearer": []
                    }
                ]
            },
            "delete": {
                "operationId": "RantController_removeRant",
                "parameters": [
                    {
                        "name": "uuid",
                        "required": true,
                        "in": "path",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "tags": [
                    "ranting"
                ],
                "security": [
                    {
                        "bearer": []
                    }
                ]
            },
            "get": {
                "operationId": "RantController_getRant",
                "parameters": [
                    {
                        "name": "uuid",
                        "required": true,
                        "in": "path",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RantDTO"
                                }
                            }
                        }
                    }
                },
                "tags": [
                    "ranting"
                ]
            }
        },
        "/rant/{uuid}/comment": {
            "put": {
                "operationId": "RantController_commentOnRant",
                "parameters": [
                    {
                        "name": "uuid",
                        "required": true,
                        "in": "path",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateMessageDTO"
                            }
                        },
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateMessageDTO"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RantDTO"
                                }
                            }
                        }
                    }
                },
                "tags": [
                    "ranting"
                ],
                "security": [
                    {
                        "bearer": []
                    }
                ]
            }
        },
        "/rant/comment/{uuid}": {
            "post": {
                "operationId": "RantController_updateCommentOnRant",
                "parameters": [
                    {
                        "name": "uuid",
                        "required": true,
                        "in": "path",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateMessageDTO"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": ""
                    }
                },
                "tags": [
                    "ranting"
                ],
                "security": [
                    {
                        "bearer": []
                    }
                ]
            },
            "delete": {
                "operationId": "RantController_removeCommentOnRant",
                "parameters": [
                    {
                        "name": "uuid",
                        "required": true,
                        "in": "path",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "tags": [
                    "ranting"
                ],
                "security": [
                    {
                        "bearer": []
                    }
                ]
            }
        },
        "/rant/{uuid}/comments": {
            "get": {
                "operationId": "RantController_getRantComments",
                "parameters": [
                    {
                        "name": "uuid",
                        "required": true,
                        "in": "path",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/CommentDTO"
                                    }
                                }
                            }
                        }
                    }
                },
                "tags": [
                    "ranting"
                ]
            }
        },
        "/rant/{uuid}/comment/{commentUUID}/vote": {
            "post": {
                "operationId": "RantController_voteOnComment",
                "parameters": [
                    {
                        "name": "uuid",
                        "required": true,
                        "in": "path",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "commentUUID",
                        "required": true,
                        "in": "path",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/MakeVoteDTO"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RantDTO"
                                }
                            }
                        }
                    }
                },
                "tags": [
                    "ranting"
                ],
                "security": [
                    {
                        "bearer": []
                    }
                ]
            }
        },
        "/rant/{uuid}/vote": {
            "post": {
                "operationId": "RantController_voteOnRant",
                "parameters": [
                    {
                        "name": "uuid",
                        "required": true,
                        "in": "path",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/MakeVoteDTO"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RantDTO"
                                }
                            }
                        }
                    }
                },
                "tags": [
                    "ranting"
                ],
                "security": [
                    {
                        "bearer": []
                    }
                ]
            }
        },
        "/auth/login": {
            "post": {
                "operationId": "AuthController_login",
                "parameters": [],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Credentials"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserWithTokenDTO"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/user/{uuid}": {
            "get": {
                "operationId": "UserController_getUser",
                "parameters": [
                    {
                        "name": "uuid",
                        "required": true,
                        "in": "path",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserDTO"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/user/register": {
            "post": {
                "operationId": "UserController_createUser",
                "parameters": [],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UserRegistration"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserDTO"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/news/create": {
            "post": {
                "operationId": "NewsController_postNews",
                "parameters": [],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateNews"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NewsDTO"
                                }
                            }
                        }
                    }
                },
                "tags": [
                    "news"
                ],
                "security": [
                    {
                        "bearer": []
                    }
                ]
            }
        },
        "/news/latest": {
            "get": {
                "operationId": "NewsController_getLatest",
                "parameters": [],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NewsDTO"
                                }
                            }
                        }
                    }
                },
                "tags": [
                    "news"
                ]
            }
        },
        "/feed/recent": {
            "get": {
                "operationId": "FeedController_getRecentFeed",
                "parameters": [
                    {
                        "name": "limit",
                        "required": false,
                        "in": "query",
                        "schema": {
                            "type": "number"
                        }
                    },
                    {
                        "name": "offset",
                        "required": false,
                        "in": "query",
                        "schema": {
                            "type": "number"
                        }
                    },
                    {
                        "name": "orderBy",
                        "required": false,
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "orderDir",
                        "required": false,
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FeedDTO"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearer": []
                    }
                ]
            }
        },
        "/feed/algo": {
            "get": {
                "operationId": "FeedController_getAlgoFeed",
                "parameters": [
                    {
                        "name": "limit",
                        "required": false,
                        "in": "query",
                        "schema": {
                            "type": "number"
                        }
                    },
                    {
                        "name": "offset",
                        "required": false,
                        "in": "query",
                        "schema": {
                            "type": "number"
                        }
                    },
                    {
                        "name": "orderBy",
                        "required": false,
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "orderDir",
                        "required": false,
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FeedDTO"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearer": []
                    }
                ]
            }
        },
        "/feed/top": {
            "get": {
                "operationId": "FeedController_getTopFeed",
                "parameters": [
                    {
                        "name": "limit",
                        "required": false,
                        "in": "query",
                        "schema": {
                            "type": "number"
                        }
                    },
                    {
                        "name": "offset",
                        "required": false,
                        "in": "query",
                        "schema": {
                            "type": "number"
                        }
                    },
                    {
                        "name": "orderBy",
                        "required": false,
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "orderDir",
                        "required": false,
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/FeedDTO"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearer": []
                    }
                ]
            }
        },
        "/search": {
            "get": {
                "operationId": "SearchController_search",
                "parameters": [
                    {
                        "name": "query",
                        "required": true,
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "limit",
                        "required": false,
                        "in": "query",
                        "schema": {
                            "type": "number"
                        }
                    },
                    {
                        "name": "offset",
                        "required": false,
                        "in": "query",
                        "schema": {
                            "type": "number"
                        }
                    },
                    {
                        "name": "orderBy",
                        "required": false,
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "orderDir",
                        "required": false,
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/SearchResultDTO"
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}